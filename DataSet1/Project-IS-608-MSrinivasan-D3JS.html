<html>
<title> D3 Page of Muthukumar Srinivasan</title>
<head><h1>Muthukumar Srinivasan - D3 Page</h1></head>
<body>

<script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<script type="text/javascript">

d3.csv("SFSalaries-sliced100Rows.csv", function(d) {
	return {
    	id: d.id,
    	EmployeeName: d.EmployeeName,
 	JobTitle: d.JobTitle,
	BasePay: d.BasePay,
	OvertimePay: d.OvertimePay,
	OtherPay: d.OtherPay,
	Benefits:d.Benefits,
	TotalPay:d.TotalPay,
	TotalPayBenefits:d.TotalPayBenefits,
	Year:d.Year,
	Notes:d.Notes,
	Agency:d.Agency,
	Status:d.Status
	};

}, function(error, rows) {
  console.log(rows);
});

var tabulate = function (data,columns) {
  var table = d3.select('body').append('table')
	var thead = table.append('thead')
	var tbody = table.append('tbody')

	thead.append('tr')
	  .selectAll('th')
	    .data(columns)
	    .enter()
	  .append('th')
	    .text(function (d) { return d })

	var rows = tbody.selectAll('tr')
	    .data(data)
	    .enter()
	  .append('tr')

	var cells = rows.selectAll('td')
	    .data(function(row) {
	    	return columns.map(function (column) {
	    		return { column: column, value: row[column] }
	      })
      })
      .enter()
    .append('td')
      .text(function (d) { return d.value })

  return table;
}

d3.csv('SFSalaries-sliced100Rows.csv',function (data) {
	var columns = ['Id','EmployeeName','JobTitle','BasePay','OvertimePay','OtherPay','Benefits','TotalPay','TotalPayBenefits','Year','Notes','Agency','Status']
  tabulate(data,columns)
})

</script>

</body>
</html>